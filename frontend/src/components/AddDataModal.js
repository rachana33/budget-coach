import { jsxs as _jsxs, jsx as _jsx } from "react/jsx-runtime";
import { useEffect } from 'react';
import SetupPanel from './SetupPanel';
import TransactionPanel from './TransactionPanel';
import CategoryLimitsPanel from './CategoryLimitsPanel';
import GoalsPanel from './GoalsPanel';
var AddDataModal = function (_a) {
    var open = _a.open, onClose = _a.onClose, _b = _a.modalType, modalType = _b === void 0 ? null : _b, month = _a.month, monthLabel = _a.monthLabel, accounts = _a.accounts, recurring = _a.recurring, transactions = _a.transactions, categories = _a.categories, limits = _a.limits, _c = _a.goals, goals = _c === void 0 ? [] : _c, _d = _a.goalTransactions, goalTransactions = _d === void 0 ? {} : _d, _e = _a.monthlySurplus, monthlySurplus = _e === void 0 ? 0 : _e, onCreateAccount = _a.onCreateAccount, onCreateRecurring = _a.onCreateRecurring, onCreateTransaction = _a.onCreateTransaction, onSaveLimit = _a.onSaveLimit, onRemoveLimit = _a.onRemoveLimit, onCreateGoal = _a.onCreateGoal, onDeleteGoal = _a.onDeleteGoal, onViewProjection = _a.onViewProjection;
    useEffect(function () {
        if (!open)
            return;
        var previous = document.body.style.overflow;
        document.body.style.overflow = 'hidden';
        return function () {
            document.body.style.overflow = previous;
        };
    }, [open]);
    if (!open)
        return null;
    var handleContainerClick = function (event) {
        event.stopPropagation();
    };
    return (_jsx("div", { className: "fixed inset-0 z-[100] flex items-center justify-center bg-slate-950/80 backdrop-blur", onClick: onClose, children: _jsxs("div", { className: "relative flex h-[90vh] w-full max-w-6xl flex-col overflow-hidden rounded-3xl border border-slate-800/80 bg-slate-950/95 shadow-[0_40px_120px_rgba(15,23,42,0.6)]", onClick: handleContainerClick, children: [_jsxs("header", { className: "flex items-center justify-between border-b border-slate-800/80 px-8 py-6", children: [_jsxs("div", { children: [_jsxs("p", { className: "text-xs uppercase tracking-[0.35em] text-brand-300/80", children: [modalType === 'account' && 'Add account', modalType === 'recurring' && 'Add recurring expense', modalType === 'transaction' && 'Add transaction', modalType === 'limit' && 'Category limits', modalType === 'goals' && 'Financial goals', !modalType && 'Data cockpit'] }), _jsxs("h2", { className: "mt-2 text-2xl font-semibold text-slate-50", children: [modalType === 'account' && 'Bank, card, or loan account', modalType === 'recurring' && 'Subscription or fixed expense', modalType === 'transaction' && 'Income or expense transaction', modalType === 'limit' && 'Manage spending limits by category', modalType === 'goals' && 'Track savings and loan payoff targets', !modalType && 'Add & update your finances'] }), _jsxs("p", { className: "mt-1 text-sm text-slate-400", children: ["Month in focus: ", _jsx("span", { className: "text-slate-200", children: monthLabel })] })] }), _jsx("button", { type: "button", onClick: onClose, className: "inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-700/70 text-lg text-slate-300 transition hover:border-slate-500 hover:text-slate-100", "aria-label": "Close add data modal", children: "\u00D7" })] }), _jsxs("div", { className: "flex-1 overflow-y-auto px-8 pb-8 pt-6", children: [!modalType && (_jsxs("div", { className: "grid gap-6 lg:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]", children: [_jsx("div", { className: "space-y-6", children: _jsx(SetupPanel, { accounts: accounts, recurring: recurring, onCreateAccount: onCreateAccount, onCreateRecurring: onCreateRecurring, showAccounts: true, showRecurring: false }) }), _jsxs("div", { className: "space-y-6", children: [_jsx(TransactionPanel, { monthLabel: monthLabel, month: month, accounts: accounts, transactions: transactions, onCreateTransaction: onCreateTransaction, limits: limits, goals: goals }), _jsx(CategoryLimitsPanel, { categories: categories, limits: limits, onSaveLimit: onSaveLimit, onRemoveLimit: onRemoveLimit }), _jsx(SetupPanel, { accounts: accounts, recurring: recurring, onCreateAccount: onCreateAccount, onCreateRecurring: onCreateRecurring, showAccounts: false, showRecurring: true })] })] })), modalType === 'account' && (_jsx("div", { className: "space-y-6", children: _jsxs("div", { className: "rounded-xl border border-slate-800 bg-slate-900/60 p-6", children: [_jsx("h3", { className: "mb-4 text-sm font-semibold uppercase tracking-[0.2em] text-slate-300", children: "Add new account" }), _jsx(SetupPanel, { accounts: accounts, recurring: recurring, onCreateAccount: onCreateAccount, onCreateRecurring: onCreateRecurring, showAccounts: true, showRecurring: false })] }) })), modalType === 'recurring' && (_jsx("div", { className: "space-y-6", children: _jsxs("div", { className: "rounded-xl border border-slate-800 bg-slate-900/60 p-6", children: [_jsx("h3", { className: "mb-4 text-sm font-semibold uppercase tracking-[0.2em] text-slate-300", children: "Add recurring expense" }), _jsx(SetupPanel, { accounts: accounts, recurring: recurring, onCreateAccount: onCreateAccount, onCreateRecurring: onCreateRecurring, showAccounts: false, showRecurring: true })] }) })), modalType === 'transaction' && (_jsx(TransactionPanel, { monthLabel: monthLabel, month: month, accounts: accounts, transactions: transactions, onCreateTransaction: onCreateTransaction, limits: limits, goals: goals })), modalType === 'limit' && (_jsx(CategoryLimitsPanel, { categories: categories, limits: limits, onSaveLimit: onSaveLimit, onRemoveLimit: onRemoveLimit })), modalType === 'goals' && onCreateGoal && onDeleteGoal && (_jsx(GoalsPanel, { goals: goals, accounts: accounts, goalTransactions: goalTransactions, monthlySurplus: monthlySurplus, onCreateGoal: onCreateGoal, onDeleteGoal: onDeleteGoal, onViewProjection: onViewProjection }))] })] }) }));
};
export default AddDataModal;
